<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>iPhone 11 Pro Max</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
  <link rel="stylesheet" href="styleiphone.css" />
</head>
<body>
  <div class="shooting-star-container">
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
  </div>

  <div id="stars-overlay"></div>
  <div id="aurora-glow"></div>
  <audio
    id="galaxySound"
    src="https://cdn.pixabay.com/audio/2022/03/15/audio_98d2cbeb5f.mp3"
    preload="auto"
    autoplay
    loop
  ></audio>

  <nav class="custom-navbar">
    <a class="navbar-brand" href="../index.html">
      <i class="fas fa-rocket"></i> Trang ch·ªß
    </a>
  </nav>

  <div id="app">
    <div class="container">
      <div class="product-card row gap-4">

        <!-- ·∫¢nh + ch·ªçn dung l∆∞·ª£ng + gi√° -->
        <div
          class="col-md-6 d-flex flex-column align-items-center p-4 bg-glass rounded"
        >
          <img
            id="galaxyImage"
            src="../anhiphone/iphone-11-pro-max.png"
            alt="iPhone 11 Pro Max"
            class="image-3d show img-fluid mb-3"
          />

          <div class="product-price mt-4 text-center">
            <label for="storageSelect" class="form-label fw-bold"
              >Ch·ªçn dung l∆∞·ª£ng:</label
            >
            <select id="storageSelect" class="form-select w-75 mx-auto">
              <option value="64">64GB</option>
              <option value="256">256GB</option>
              <option value="512">512GB</option>
            </select>
            <div class="price-display mt-3">
              <span class="fw-bold">Gi√°:</span>
              <strong id="priceValue" class="text-danger fs-5"
                >21.490.000‚Ç´</strong
              >
            </div>
          </div>
        </div>

        <!-- Th√¥ng tin s·∫£n ph·∫©m v√† n√∫t -->
        <div class="col-md-5 product-info text-start p-4 bg-glass rounded">
          <h1>iPhone 11 Pro Max</h1>
          <p class="lead">
            Camera Pro v·ªõi ba ·ªëng k√≠nh, m√†n h√¨nh OLED Super Retina XDR, chip A13
            Bionic.
          </p>
          <ul class="specs">
            <li>M√†n h√¨nh: 6.5 inch Super Retina XDR OLED</li>
            <li>Chip: Apple A13 Bionic</li>
            <li>Camera: 3 camera 12MP Ultra Wide, Wide, Telephoto</li>
            <li>Face ID</li>
          </ul>

          <button class="btn-galaxy toggle-details-btn mt-3">
            üìã Th√¥ng tin chi ti·∫øt
          </button>

          <div class="product-details mt-3" style="display: none">
            <h2>Th√¥ng tin chi ti·∫øt</h2>
            <div class="spec-list">
              <div class="spec-item">
                <strong>M√†n h√¨nh:</strong> 6.5 inch OLED Super Retina XDR,
                2688 x 1242 pixels
              </div>
              <div class="spec-item"><strong>Chip:</strong> Apple A13 Bionic</div>
              <div class="spec-item"><strong>RAM:</strong> 4 GB</div>
              <div class="spec-item">
                <strong>B·ªô nh·ªõ:</strong> 64GB / 256GB / 512GB
              </div>
              <div class="spec-item">
                <strong>Camera sau:</strong> 3 camera 12MP (Ultra Wide, Wide,
                Telephoto)
              </div>
              <div class="spec-item"><strong>Camera tr∆∞·ªõc:</strong> 12MP</div>
              <div class="spec-item">
                <strong>Ch·∫•t li·ªáu:</strong> Th√©p kh√¥ng g·ªâ, k√≠nh c∆∞·ªùng l·ª±c
              </div>
              <div class="spec-item">
                <strong>Pin:</strong> 3969 mAh, s·∫°c nhanh 18W
              </div>
              <div class="spec-item"><strong>H·ªá ƒëi·ªÅu h√†nh:</strong> iOS 13</div>
            </div>
          </div>

          <div class="buttons mt-3">
            <a href="../cart.html" class="btn-pay">üí≥ Thanh to√°n</a>
            <a href="../index.html" class="btn-galaxy" onclick="addToCartItem()"
              >üõí Th√™m v√†o gi·ªè h√†ng</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="galaxy-bg"></div>

  <!-- Script ƒë·ªïi ·∫£nh t·ª± ƒë·ªông -->
  <script>
    const images = [
      "iphone11promax/iphone-11-pro-max.png",
      "iphone11promax/iphone-11-pro-max2.png",
      "iphone11promax/iphone-11-pro-max3.png",
    ];
    let index = 0;

    function nextAutoImage() {
      const img = document.getElementById("galaxyImage");
      img.classList.remove("show");
      img.classList.add("hide");
      setTimeout(() => {
        index = (index + 1) % images.length;
        img.src = images[index];
        img.classList.remove("hide");
        img.classList.add("show");
      }, 300);
    }
    setInterval(nextAutoImage, 5000);
  </script>

  <!-- Script toggle th√¥ng tin chi ti·∫øt -->
  <script>
    document.querySelector(".toggle-details-btn").addEventListener("click", function () {
      const details = document.querySelector(".product-details");
      const isVisible = details.style.display === "block";
      details.style.display = isVisible ? "none" : "block";
      this.textContent = isVisible ? "üìã Th√¥ng tin chi ti·∫øt" : "üîΩ ·∫®n th√¥ng tin";
    });
  </script>

  <!-- Script c·∫≠p nh·∫≠t gi√° -->
  <script>
    const priceMap = {
      64: "21.490.000‚Ç´",
      256: "25.490.000‚Ç´",
      512: "29.490.000‚Ç´",
    };

    document.getElementById("storageSelect").addEventListener("change", function () {
      const selected = this.value;
      document.getElementById("priceValue").textContent = priceMap[selected];
    });
  </script>

  <!-- Th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng -->
  <script>
    function addToCartItem() {
      const selectedStorage = document.getElementById("storageSelect").value;
      const product = {
        name: `iPhone 11 Pro Max ${selectedStorage}GB`,
        quantity: 1,
        image: "../anhiphone/iphone-11-pro-max.png",
        price: priceMap[selectedStorage] || "Kh√¥ng x√°c ƒë·ªãnh",
      };

      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const existingIndex = cart.findIndex((item) => item.name === product.name);
      if (existingIndex !== -1) {
        cart[existingIndex].quantity += 1;
      } else {
        cart.push(product);
      }
      localStorage.setItem("cart", JSON.stringify(cart));
      showToast(`üõí ${product.name} ƒë√£ ƒë∆∞·ª£c th√™m v√†o gi·ªè h√†ng!`);
    }

    function showToast(message, type = "success") {
      const toastEl = document.getElementById("liveToast");
      toastEl.className = `toast align-items-center text-bg-${type} animate-shake`;
      document.getElementById("toastMessage").textContent = message;
      const toast = new bootstrap.Toast(toastEl, { delay: 3000 });
      toast.show();
      setTimeout(() => {
        toastEl.classList.remove("animate-shake");
      }, 400);
    }
  </script>

  <!-- Toast th√¥ng b√°o -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div
      id="liveToast"
      class="toast align-items-center text-bg-success"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <div class="d-flex">
        <div class="toast-body" id="toastMessage">S·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c th√™m</div>
        <button
          type="button"
          class="btn-close me-2 m-auto"
          data-bs-dismiss="toast"
          aria-label="Close"
        ></button>
      </div>
    </div>
  </div>
</body>
</html>
